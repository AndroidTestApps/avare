<html>

<head>


<style>

body {
	color : #FFFFFF;
	width: 800px;
	background: #000000;
	font-family: Helvetica, Arial, sans-serif; /* Nicer font */
}

label {
	color : #FF0000;
	font-weight: bold; /* Make sure they're bold */
	font-size : 20px;
	font-family: Helvetica, Arial, sans-serif; /* Nicer font */
}

input {
	font-family: Helvetica, Arial, sans-serif; /* Nicer font */
	width:200px;
}

p {
	border: solid green;
	border-radius: 1em;
	width: 800px;
	padding: 5px;
}

table { 
	color: #333; /* Lighten up font color */
	font-family: Helvetica, Arial, sans-serif; /* Nicer font */
	width: 800px;
	border-collapse: collapse; 
	border-spacing: 0; 
}
 
button {
	width: 100px;
} 
 
td, th { 
	color : #FFFFFF;
	border: 1px solid #CCC;
	height: 30px; 
	width: 110px;
	padding: 5px;
} /* Make cells a bit taller */
 
th {
	background: #222222; /* Light grey background */
	font-weight: bold; /* Make sure they're bold */
}
 
td {
	background: #111111; /* Lighter grey background */
	text-align: left; /* Left our text */
}

.halfbutton {
	width: 50px; // For two buttons in one row
}

.halfinput {
	width : 100px;
}

.sublabel {
	font-size : 15px;
	color : #00FF00;
}

</style>

<script type='text/javascript' >

// set the table for faa plans
//>Plan</th><th>State</th><th>Activate</th><th>Cancel</th><th>Close<
var CELL_FAA_NAME = 0;
var CELL_FAA_STATE = 1;
var CELL_FAA_ACTIVATE = 2;
var CELL_FAA_CANCEL = 3;
var CELL_FAA_CLOSE = 4;
var CELL_FAA_LAST = 5;
function set_faa_plans(plan) {
	var plans = plan.split(",");
	
	// delete the table
	var faa_plan_save = document.getElementById("save_table_faa");
	for(var row = faa_plan_save.rows.length - 1; row >= 1; row--) {
			faa_plan_save.deleteRow(row);
	}

	// add all rows
	for(var r = 0; r < plans.length - 2; r += 2) {
		var row = faa_plan_save.insertRow(-1);
		var cell = [];

		// Insert new cells (<td> elements) at the positions of the "new" <tr> element:
		cell[CELL_FAA_NAME] = row.insertCell(CELL_FAA_NAME);
		cell[CELL_FAA_STATE] = row.insertCell(CELL_FAA_STATE);
		cell[CELL_FAA_ACTIVATE] = row.insertCell(CELL_FAA_ACTIVATE);
		cell[CELL_FAA_CANCEL] = row.insertCell(CELL_FAA_CANCEL);
		cell[CELL_FAA_CLOSE] = row.insertCell(CELL_FAA_CLOSE);
		
		cell[CELL_FAA_NAME].innerHTML = plans[r];
		cell[CELL_FAA_STATE].innerHTML = plans[r + 1];
		cell[CELL_FAA_ACTIVATE].innerHTML = "<button onclick='plan_state_change(" + (r / 2) + ",\"Activate\")'>Activate</button>";
		cell[CELL_FAA_CANCEL].innerHTML =   "<button onclick='plan_state_change(" + (r / 2) + ",\"Cancel\")'>Cancel</button>";
		cell[CELL_FAA_CLOSE].innerHTML =    "<button onclick='plan_state_change(" + (r / 2) + ",\"Close\")'>Close</button>";	
	}

}

function plan_state_change(row, action) {
	var r = confirm("Do you want to " + action + " the plan?");
	if(r == false) {
		return;	
	}
	AndroidWeather.planChangeState(row, action);
}

// fill a plan page from stored values
function plan_fill(
				flight_rule,
				aircraft_id,
				departure_point,
				destination,
				departure_date,
				time_enroute,
				alternate1,
				alterante2,
				aircraft_type,		
				no_of_aircraft,
				heavy,
				aircraft_equip,		
				true_airspeed,
				altitude,
				fuel_onboard,
				pilot_info,
				no_onboard,
				aircraft_color,
				route,
				type_flight,				
				remarks) {

            document.getElementById("flight_rule").value = flight_rule;
				document.getElementById("aircraft_id").value = aircraft_id;
				document.getElementById("departure_point").value = departure_point;
				document.getElementById("destination").value = destination;
				document.getElementById("departure_date").value = departure_date;
				document.getElementById("time_enroute").value = time_enroute;
				document.getElementById("alternate1").value = alternate1;
				document.getElementById("alterante2").value = alterante2;
				document.getElementById("aircraft_type").value = aircraft_type;		
				document.getElementById("no_of_aircraft").value = no_of_aircraft;
				document.getElementById("heavy").checked = (heavy == "true") ? true : false;
				document.getElementById("aircraft_equip").value = aircraft_equip;
				document.getElementById("true_airspeed").value = true_airspeed;
				document.getElementById("altitude").value = altitude;
				document.getElementById("fuel_onboard").value = fuel_onboard;
				document.getElementById("pilot_info").value = pilot_info;
				document.getElementById("no_onboard").value = no_onboard;
				document.getElementById("aircraft_color").value = aircraft_color;
				document.getElementById("route").value = route;
				document.getElementById("type_flight").value = type_flight;				
				document.getElementById("remarks").value = remarks;
}

// clear all form values
function clearall() {
            document.getElementById("flight_rule").value = "";
				document.getElementById("aircraft_id").value = "";
				document.getElementById("departure_point").value = "";
				document.getElementById("destination").value = "";
				document.getElementById("departure_date").value = "";
				document.getElementById("time_enroute").value = "";
				document.getElementById("alternate1").value = "";
				document.getElementById("alterante2").value = "";
				document.getElementById("aircraft_type").value = "";		
				document.getElementById("no_of_aircraft").value = "";
				document.getElementById("heavy").checked = false;
				document.getElementById("aircraft_equip").value = "";
				document.getElementById("true_airspeed").value = "";
				document.getElementById("altitude").value = "";
				document.getElementById("fuel_onboard").value = "";
				document.getElementById("pilot_info").value = "";
				document.getElementById("no_onboard").value = "";
				document.getElementById("aircraft_color").value = "";
				document.getElementById("route").value = "";
				document.getElementById("type_flight").value = "";				
				document.getElementById("remarks").value = "";
}

// function to call plan_fill
function autofill() {
	var r = confirm("Do you want to discard all fields, and let the app fill new ones in the form?");
	if(r == false) {
		return;	
	}
	AndroidWeather.fillPlan();
}


function show_help() {
	var help = document.getElementById("help");	
	if(help.style.display == "none") {
		help.style.display = "";
	}
	else {
		help.style.display = "none";
	}
}

window.onload = show_help;

// file a plan
function plan_file() {

	var r = confirm("You are about to file a flight plan with the FAA. Are you sure you want to file this plan?");
	if(r == false) {
		return;	
	}

	AndroidWeather.filePlan(
				document.getElementById("flight_rule").value,
				document.getElementById("aircraft_id").value,
				document.getElementById("departure_point").value,
				document.getElementById("destination").value,
				document.getElementById("departure_date").value,
				document.getElementById("time_enroute").value,
				document.getElementById("alternate1").value,
				document.getElementById("alterante2").value,
				document.getElementById("aircraft_type").value,		
				document.getElementById("no_of_aircraft").value,
				document.getElementById("heavy").checked ? "true" : "false",
				document.getElementById("aircraft_equip").value,		
				document.getElementById("true_airspeed").value,
				document.getElementById("altitude").value,
				document.getElementById("fuel_onboard").value,
				document.getElementById("pilot_info").value,
				document.getElementById("no_onboard").value,
				document.getElementById("aircraft_color").value,
				document.getElementById("route").value,
				document.getElementById("type_flight").value,				
				document.getElementById("remarks").value
    );
}

// fetch faa plans from internet 
function get_faa_plans() {
	var r = confirm("Do you want to fetch or update your list of FAA filed plans from Internet?");
	if(r == false) {
		return;	
	}
	AndroidWeather.getPlans();
}

</script>

</head>

<body>
	<h1>File A Plan</h1>
		<p>
		<label>File (FAA)</label><br>
			<table border="1">
			<tr>
				<td>Flight Rule<br><select id="flight_rule"><option>VFR</option><option>IFR</option></select></td>		
				<td>Aircraft ID<br><input class="halfinput" id="aircraft_id"/></td>		
				<td>Aircraft Type<br><input class="halfinput" id="aircraft_type"/></td>		
				<td>Aircraft Equip<br><select id="aircraft_equip"><option>A</option><option>B</option><option>D</option><option>T</option><option>U</option><option>X</option><option>M</option><option>N</option><option>P</option><option>G</option><option>S</option><option>V</option><option>C</option><option>I</option><option>Y</option><option>H</option><option>L</option><option>W</option><option>Z</option></select></td>		
				<td>No. of Aircraft<br><input class="halfinput" id="no_of_aircraft"/></td>
				<td>Heavy<input class="halfbutton" type="checkbox" id="heavy"/></td>
			</tr>	
			<tr>
				<td>True Airspeed<br><input class="halfinput" id="true_airspeed"/></td>
				<td>Altitude<br><input class="halfinput" id="altitude"/></td>
				<td>Origin<br><input class="halfinput" id="departure_point"/></td>
				<td>Time (Zulu)<br><input class="halfinput" id="departure_date"/></td>
				<td>Time Enroute<br><input class="halfinput" id="time_enroute"/></td>
				<td>Destination<br><input class="halfinput" id="destination"/></td>
			</tr>
			<tr>
				<td>Fuel On Board<br><input class="halfinput" id="fuel_onboard"/></td>
				<td>Alternate 1<br><input class="halfinput" id="alternate1"/></td>
				<td>Alternate 2<br><input class="halfinput" id="alterante2"/></td>
				<td>Aircraft Color<br><input class="halfinput" id="aircraft_color"/></td>
				<td>No. On Board<br><input class="halfinput" id="no_onboard"/></td>
				<td>Type<br><input class="halfinput" id="type_flight" value="DOMESTIC" readonly/></td>
			</tr>
		<button onclick="autofill()">Prepare</button>
		<button onclick="clearall()">Clear</button><br></br>
		<table border="1">
			<tr>
				<td>Route (DCT for Direct)<br><input id="route"/></td>
				<td>Remarks (Optional)<br><input id="remarks"/></td>
				<td>Pilot Contact Info.<br><input id="pilot_info"/></td>
			</tr>
		</table>
		<br>
		<button onclick="plan_file()">File Plan</button><br></br>
		<label class="sublabel" >FAA Plans</label><br>
		<button onclick="get_faa_plans()">Get Plans</button><br>
		<table id="save_table_faa" border="1"><th>Plan</th><th>State</th><th>Activate</th><th>Cancel</th><th>Close</th></table>
	</p>

	<button onclick="show_help()">Show Help</button><br>
	<a id="help">
The WXB screen allows you to file, activate, close, and cancel flight plans with the FAA using the Lockheed Martin Flight Services. 
<br>
<b>To Fill the Flight Plan Filing Form</b>


</body>

</html>
